"use strict";(self["webpackChunkaurora_blog"]=self["webpackChunkaurora_blog"]||[]).push([[836],{6664:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(3396),i=a(7139);const s={class:"paginator"},r=["onClick"];function l(e,t,a,l,o,c){const u=(0,n.up)("svg-icon");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("ul",null,[e.currentPage>1?((0,n.wg)(),(0,n.iD)("li",{key:0,class:"text-ob-bright",onClick:t[0]||(t[0]=t=>e.pageChangeEmitter(e.currentPage-1))},[(0,n.Wm)(u,{"icon-class":"arrow-left"}),(0,n.Uk)(" "+(0,i.zw)(e.t("settings.paginator.newer")),1)])):(0,n.kq)("",!0),0!==e.paginator.head?((0,n.wg)(),(0,n.iD)("li",{key:1,class:(0,i.C_)({active:e.currentPage===e.paginator.head}),onClick:t[1]||(t[1]=t=>e.pageChangeEmitter(e.paginator.head))},(0,i.zw)(e.paginator.head),3)):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.paginator.pages,((t,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a,class:(0,i.C_)({active:e.currentPage===t}),onClick:a=>e.pageChangeEmitter(t)},(0,i.zw)(t),11,r)))),128)),0!==e.paginator.end?((0,n.wg)(),(0,n.iD)("li",{key:2,class:(0,i.C_)({active:e.currentPage===e.paginator.end}),onClick:t[2]||(t[2]=t=>e.pageChangeEmitter(e.paginator.end))},(0,i.zw)(e.paginator.end),3)):(0,n.kq)("",!0),e.currentPage<e.pages?((0,n.wg)(),(0,n.iD)("li",{key:3,class:"text-ob-bright",onClick:t[3]||(t[3]=t=>e.pageChangeEmitter(e.currentPage+1))},[(0,n.Uk)((0,i.zw)(e.t("settings.paginator.older"))+" ",1),(0,n.Wm)(u,{"icon-class":"arrow-right"})])):(0,n.kq)("",!0)])])}var o=a(4870),c=a(5213),u=(0,n.aZ)({name:"Paginator",emits:["pageChange"],props:["pageTotal","pageSize","page"],setup(e,{emit:t}){const{t:a}=(0,c.QT)(),i=(0,o.BK)(e),s=(0,n.Fl)((()=>Math.ceil(i.pageTotal.value/i.pageSize.value))),r=(0,n.Fl)((()=>{if(s.value<=3){const e=[];for(let t=0;t<s.value;t++)e.push(t+1);return{head:0,pages:e,end:0}}return i.page.value>=1&&i.page.value<3?{head:1,pages:[2,3,"..."],end:s.value}:i.page.value>=3&&i.page.value<=s.value-2?{head:1,pages:["...",i.page.value-1,i.page.value,i.page.value+1,"..."],end:s.value}:{head:1,pages:["...",s.value-2,s.value-1],end:s.value}})),l=e=>{"..."!==e&&t("pageChange",e)};return{currentPage:(0,n.Fl)((()=>i.page.value)),pageChangeEmitter:l,paginator:r,pages:s,t:a}}}),d=a(89);const g=(0,d.Z)(u,[["render",l],["__scopeId","data-v-9fdb35d6"]]);var p=g},2972:function(e,t,a){a.r(t),a.d(t,{default:function(){return ve}});var n=a(3396),i=a(7139);const s={class:"block"},r={key:1},l={class:"main-grid"},o={class:"flex flex-col relative"},c=["onClick"],u={class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8"};function d(e,t,a,d,g,p){const h=(0,n.up)("Images"),v=(0,n.up)("Brand"),b=(0,n.up)("Feature"),f=(0,n.up)("FeatureList"),m=(0,n.up)("Title"),k=(0,n.up)("ob-skeleton"),w=(0,n.up)("svg-icon"),y=(0,n.up)("ArticleCard"),C=(0,n.up)("Paginator"),x=(0,n.up)("Profile"),_=(0,n.up)("RecentComment"),T=(0,n.up)("TagBox"),A=(0,n.up)("Notice"),j=(0,n.up)("WebsiteInfo"),z=(0,n.up)("Sidebar");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(h),(0,n.Wm)(v),e.themeConfig.feature?((0,n.wg)(),(0,n.j4)(b,{key:0})):(0,n.kq)("",!0),(0,n.Wm)(f),e.themeConfig.feature?((0,n.wg)(),(0,n.iD)("span",r,[(0,n.Wm)(m,{id:"article-list",title:"titles.articles",icon:"article"},null,8,["title"])])):(0,n.kq)("",!0),(0,n._)("div",l,[(0,n._)("div",o,[(0,n._)("ul",{class:(0,i.C_)(e.tabClass)},[(0,n._)("li",{class:(0,i.C_)({active:0===e.activeTab}),onClick:t[0]||(t[0]=t=>e.handleTabChange(0))},[(0,n._)("span",{class:"first-tab",style:(0,i.j5)(e.activeTabStyle(0))},(0,i.zw)(e.t("settings.button-all")),5)],2),e.categories&&e.categories.length>0?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(e.categories,(t=>((0,n.wg)(),(0,n.iD)("li",{key:t.id,class:(0,i.C_)({active:e.activeTab===t.id}),onClick:a=>e.handleTabChange(t.id)},[(0,n._)("span",{style:(0,i.j5)(e.activeTabStyle(t.id))},(0,i.zw)(t.categoryName),5),(0,n._)("b",null,(0,i.zw)(t.articleCount),1)],10,c)))),128)):(e.categories.length=0)?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(6,(e=>(0,n._)("li",{key:e,style:{position:"relative",top:"-4px"}},[(0,n.Wm)(k,{tag:"span",width:"60px",height:"33px"})]))),64)):(0,n.kq)("",!0)],2),(0,n._)("span",{class:(0,i.C_)(e.expanderClass),onClick:t[1]||(t[1]=(...t)=>e.expandHandler&&e.expandHandler(...t))},[(0,n.Wm)(w,{"icon-class":"chevron"})],2),(0,n._)("ul",u,[!0===e.haveArticles?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(e.articles,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.id},[(0,n.Wm)(y,{class:"home-article",data:e},null,8,["data"])])))),128)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(12,(e=>(0,n._)("li",{key:e},[(0,n.Wm)(y,{data:{}})]))),64))]),(0,n.Wm)(C,{pageSize:e.pagination.size,pageTotal:e.pagination.total,page:e.pagination.current,onPageChange:e.pageChangeHanlder},null,8,["pageSize","pageTotal","page","onPageChange"])]),(0,n._)("div",null,[(0,n.Wm)(z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x),((0,n.wg)(),(0,n.j4)(_,{key:0})),(0,n.Wm)(T),(0,n.Wm)(A),(0,n.Wm)(j)])),_:1})])])])}var g=a(4870);const p={id:"feature"};function h(e,t,a,i,s,r){const l=(0,n.up)("horizontal-article");return(0,n.wg)(),(0,n.iD)("div",p,[(0,n.Wm)(l,{class:"home-horizontal-article"}),(0,n.WI)(e.$slots,"default")])}var v=a(772),b=(0,n.aZ)({name:"Feature",components:{HorizontalArticle:v.Z},setup(){return{}}}),f=a(89);const m=(0,f.Z)(b,[["render",h]]);var k=m;const w={class:"inverted-main-grid py-8 gap-8 box-border"},y={class:"relative overflow-hidden h-56 lg:h-auto rounded-2xl bg-ob-deep-800 shadow-lg"},C={class:"ob-gradient-plate opacity-90 relative z-10 bg-ob-deep-900 rounded-2xl flex justify-start items-end px-8 pb-10 shadow-md"},x={class:"text-3xl pb-8 lg:pb-16"},_={class:"relative text-2xl text-ob-bright font-semibold"},T={class:"grid lg:grid-cols-2 gap-8"};function A(e,t,a,s,r,l){const o=(0,n.up)("svg-icon"),c=(0,n.up)("ArticleCard");return(0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("div",y,[(0,n._)("div",C,[(0,n._)("h2",x,[(0,n._)("p",{style:(0,i.j5)(e.gradientText)},"EDITOR'S SELECTION",4),(0,n._)("span",_,[(0,n.Wm)(o,{class:"inline-block","icon-class":"hot"}),(0,n.Uk)(" "+(0,i.zw)(e.t("home.recommended")),1)])])]),(0,n._)("span",{class:"absolute top-0 w-full h-full z-0",style:(0,i.j5)(e.gradientBackground)},null,4)]),(0,n._)("ul",T,[e.featuredArticles.length>0?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(e.featuredArticles,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.id},[(0,n.Wm)(c,{class:"home-featured-article",data:e},null,8,["data"])])))),128)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(2,(e=>(0,n._)("li",{key:e},[(0,n.Wm)(c,{data:{}})]))),64))])])}var j=a(7619),z=a(2866),E=a(5213),W=a(3207),Z=(0,n.aZ)({name:"FeatureList",components:{ArticleCard:W.T},setup(){const e=(0,j.q)(),t=(0,z.W)(),{t:a}=(0,E.QT)();return{gradientBackground:(0,n.Fl)((()=>({background:e.themeConfig.header_gradient_css}))),gradientText:e.themeConfig.background_gradient_style,featuredArticles:(0,g.Vh)(t.$state,"featuredArticles"),t:a}}});const D=(0,f.Z)(Z,[["render",A]]);var B=D,P=a(9986),H=a(1248),S=a(3560),I=a(3766);const F=(0,I.Q_)("categoryStore",{state:()=>({categories:[]}),actions:{}}),q={class:"waves",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 24 150 28",preserveAspectRatio:"none","shape-rendering":"auto"},K=(0,n.uE)('<defs data-v-3b75e660><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" data-v-3b75e660></path></defs><g class="parallax" data-v-3b75e660><use class="use" xlink:href="#gentle-wave" x="48" y="0" data-v-3b75e660></use><use class="use" xlink:href="#gentle-wave" x="48" y="3" data-v-3b75e660></use><use class="use" xlink:href="#gentle-wave" x="48" y="5" data-v-3b75e660></use><use class="use" xlink:href="#gentle-wave" x="48" y="7" data-v-3b75e660></use></g>',2),Y=[K];function L(e,t){return(0,n.wg)(),(0,n.iD)("svg",q,Y)}const O={},$=(0,f.Z)(O,[["render",L],["__scopeId","data-v-3b75e660"]]);var N=$,Q=a(6763),R=function(e,t,a,n){function i(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function r(e){try{o(n.next(e))}catch(t){s(t)}}function l(e){try{o(n["throw"](e))}catch(t){s(t)}}function o(e){e.done?a(e.value):i(e.value).then(r,l)}o((n=n.apply(e,t||[])).next())}))};class U{constructor(e,t,a,n){V(e),X(e),this.obj=e,this.input="string"===typeof t?[t]:t,this.fn="function"===typeof a?a:function(){},this.hooks="function"===typeof n?n:function(){},this.timer=0,this.typeAction={rollback:this.typedBack.bind(this),normal:this.play.bind(this),custom:this.fn},this.init()}init(){this.play()}play(){if(!this.input.length)return this.fn(this);let e=0,t=!1,a=this.input.shift()||"";this.timer=setInterval((()=>(e===a.length&&(e=0,t=!0,this.closeTimer()),this.obj.isEnd?this.closeTimer():t?this.nextTick():(this.obj.output=a.slice(0,e+1),this.hooks(a.slice(0,e+1),this),void e++))),this.obj.speed)}typedBack(){if(!this.input.length&&this.obj.sentencePause)return this.fn(this);let e=this.obj.output,t=e.length,a=!1;this.timer=setInterval((()=>(-1===t&&(this.obj.output="",this.hooks("",this),t=0,a=!0,this.closeTimer()),this.obj.isEnd?(this.closeTimer(),this.obj.singleBack=!1):a?(this.obj.singleBack=!1,(()=>{const{length:e}=this.input;return e?this.play():this.fn(this)})()):(this.obj.output=e.slice(0,t+1),this.hooks(e.slice(0,t+1),this),void t--))),this.obj.backSpeed)}nextTick(){return R(this,void 0,void 0,(function*(){return yield this.sleep(this.obj.sleep),this.obj.singleBack?this.typedBack():this.getOutputType()}))}getOutputType(){return this.typeAction[this.obj.type](this)}closeTimer(){clearInterval(this.timer)}sleep(e){return new Promise((t=>setTimeout(t,e)))}close(){return this.obj.isEnd=!0}}const M=e=>{throw new Error(e)},V=e=>{const t={output:"",type:"",isEnd:!1,speed:80,backSpeed:40,sleep:3e3,singleBack:!1,sentencePause:!1},a=Object.keys(t),n=Object.keys(e);a.length!==n.length&&M("配置对象错误: 字段数量不正确！"),a.forEach((t=>{void 0!==e[t]&&null!==e[t]||M("配置对象错误：字段值为null或undefined！")}))},X=e=>{Object.keys(e).forEach((t=>{const a=G[t](e);a.check()&&a.showTip(t)}))},G=(()=>({output:e=>new J("string",e.output),type:e=>new J("string",e.type),isEnd:e=>new J("boolean",e.isEnd),speed:e=>new J("number",e.speed),backSpeed:e=>new J("number",e.backSpeed),sleep:e=>new J("number",e.sleep),singleBack:e=>new J("boolean",e.singleBack),sentencePause:e=>new J("boolean",e.sentencePause)}))();class J{constructor(e,t){this.type=e,this.field=t}check(){return typeof this.field!==`${this.type}`}showTip(e){M(`配置对象错误：属性 ${e} 必须为 ${this.type} 类型！`)}}var ee=U;const te=e=>((0,n.dD)("data-v-b58be124"),e=e(),(0,n.Cn)(),e),ae={class:"brand-container"},ne={class:"brand"},ie={class:"title"},se=te((()=>(0,n._)("span",{class:"easy-typed-cursor"},"|",-1)));var re=(0,n.aZ)({__name:"index",setup(e){const t=(0,g.qj)({output:"",isEnd:!1,speed:100,singleBack:!1,sleep:0,type:"normal",backSpeed:100,sentencePause:!1}),a=()=>{fetch("https://v1.hitokoto.cn/?c=b ").then((e=>e.json())).then((({hitokoto:e})=>{new ee(t,e,(()=>{}),(()=>{}))}))};(0,n.bv)((()=>{a()}));const s=()=>{window.scrollTo({behavior:"smooth",top:document.documentElement.clientHeight})};return(e,a)=>((0,n.wg)(),(0,n.iD)("div",ae,[(0,n._)("div",ne,[(0,n._)("div",ie,[(0,n.Uk)((0,i.zw)(t.output)+" ",1),se])]),(0,n.Wm)(N),(0,n.Wm)(Q.Z,{class:"arrow-down","icon-class":"down",size:"35px",onClick:s})]))}});const le=(0,f.Z)(re,[["__scopeId","data-v-b58be124"]]);var oe=le,ce=a(5946),ue=a(6664),de=a(3286),ge=a(9085),pe=(0,n.aZ)({name:"Home",components:{Images:ce.Z,Brand:oe,Feature:k,FeatureList:B,ArticleCard:W.T,HorizontalArticle:W.k,Title:P.b,Paginator:ue.Z,Sidebar:H.YE,Profile:H.NZ,RecentComment:H.L6,TagBox:H.ac,Notice:H.qX,WebsiteInfo:H.a},setup(){const e=(0,j.q)(),t=(0,S.L)(),a=(0,z.W)(),i=F(),{t:s}=(0,E.QT)(),r=(0,g.iH)({"tab-expander":!0,expanded:!1}),l=(0,g.iH)({tab:!0,"expanded-tab":!1}),o=(0,g.iH)(0),c=(0,g.iH)(0),u=(0,g.qj)({haveArticles:!1}),d=(0,g.qj)({size:12,total:0,current:1});let p=0;(0,n.bv)((()=>{h(),f(),v();const e=document.getElementById("article-list");c.value=e&&e instanceof HTMLElement?e.offsetTop+120:0}));const h=()=>{de.Z.getTopAndFeaturedArticles().then((({data:e})=>{e.data.topArticle.articleContent=(0,ge.Z)(e.data.topArticle.articleContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,""),e.data.featuredArticles.forEach((e=>{e.articleContent=(0,ge.Z)(e.articleContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")})),a.topArticle=e.data.topArticle,a.featuredArticles=e.data.featuredArticles}))},v=()=>{o.value=t.tab,p=t.tab,d.current=t.page,0===t.tab?(u.haveArticles=!1,de.Z.getArticles({current:d.current,size:d.size}).then((({data:e})=>{e.flag&&(e.data.records.forEach((e=>{e.articleContent=(0,ge.Z)(e.articleContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")})),a.articles=e.data.records,d.total=e.data.count,u.haveArticles=!0)}))):b(t.tab)},b=e=>{u.haveArticles=!1,de.Z.getArticlesByCategoryId({current:d.current,size:d.size,categoryId:e}).then((({data:e})=>{e.data.records.forEach((e=>{e.articleContent=(0,ge.Z)(e.articleContent).replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,"")})),a.articles=e.data.records,d.total=e.data.count,u.haveArticles=!0}))},f=()=>{i.categories=[],de.Z.getAllCategories().then((({data:e})=>{i.categories.push(...e.data)}))},m=()=>{r.value.expanded=!r.value.expanded,l.value["expanded-tab"]=!l.value["expanded-tab"]},k=e=>{t.tab=e,t.page=1,d.current=1,o.value=e,p=e,w(),0===e?v():b(e)},w=()=>{window.scrollTo({top:c.value})},y=t=>t===o.value?{background:e.themeConfig.header_gradient_css}:{},C=e=>{t.page=e,d.current=e,w(),0===p?v():b(p)};return{...(0,g.BK)(u),...(0,g.BK)(a.$state),categories:(0,g.Vh)(i.$state,"categories"),gradientText:(0,n.Fl)((()=>e.themeConfig.background_gradient_style)),gradientBackground:(0,n.Fl)((()=>({background:e.themeConfig.header_gradient_css}))),themeConfig:(0,n.Fl)((()=>e.themeConfig)),expanderClass:r,tabClass:l,expandHandler:m,handleTabChange:k,activeTabStyle:y,activeTab:o,pagination:d,pageChangeHanlder:C,t:s}}});const he=(0,f.Z)(pe,[["render",d]]);var ve=he}}]);